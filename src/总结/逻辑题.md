# 逻辑题

## 1、40亿个不重复、未[排序](https://www.nowcoder.com/jump/super-jump/word?word=排序)的unsigned int，给一个x，有2G内存，如果判断x是否在这40亿个数之中？

第一种方法：可以考虑外部排序：归并排序的方法，先将一部分数据加载到内存中，然后查找。

第二种方法：可以考虑使用位图bitmap，1个bit存储一个数字，如果存在，相应位置就是1，不存在就是0。

第三种方法：假设40亿个数都存在文件中，要查找的数字是x，可以先判断x的最高位bit是0还是1，如果是0，就将文件中最高位是0的数字都留下，不是0的都删除。然后再判断x的次高位，依次循环判断到最低位，如果最后文件中还有数字，就是要找的数。



## 2、1000瓶毒药里面只有1瓶是有毒的，问需要多少只老鼠才能试出那瓶有毒？

2^10 =1024 。也就是说10层二叉树一定可以记录1000种的状态。每个节点放1。每一层的和就是一个数

我们能表示出1024种状态。

这个题是对bit位的应用，1000接近1024，所以需要10个bit位，对瓶子进行编号，从0到999，这样需要10只老鼠。瓶子的编号分别为：

老鼠用  a ,b ,c ,d ,e ,f ,g ,h ,i , j ,表示

第0号瓶：00000,00000

第1号瓶：00000,00001  a

第2号瓶：00000,00010,      b     

第3号瓶：00000,00011   a   b

第4号瓶：00000,00101   a        c

第5号瓶：00000,00111    a   b   c

。。。。。。

第999号瓶：11111，00111 a  b  c  [] [] f g h i j 

同时给老鼠编号，从1,2,...10，从低位开始，让第n个老鼠喝下第n个bit位为1瓶子中的药水。24小时后，若所有的老鼠都没有发病，那么是第一个瓶子有毒，如果有一些老鼠发病，那么共同喝的那瓶毒药的二进制做与运算，得到的就是共同喝的那瓶，最低位+1，变成整数后，对应的数字即为有毒药水的编号。

比如：第四瓶有毒，全部做与运算得到的（编号第三号）00000011 +1 =00000100 = 4 。第四瓶有毒（没有第零瓶，所以+加1）

所以只要10只老鼠就能在 24小时后 排查出到底那瓶有毒


## 3、TOP K问题

方法一：快排

​	每次经过划分，如果中间值等于K，那么左边的数据就是 TOP K的数据，如果不等于，只要递归处理左边或者右边的数就可以。时间复杂度是O(n)

方法二：可以用分布式的方法处理

​	将数据分散在多台机器中，每台机器并行计算各自的Top K数据，最后汇总，再计算得到最终的Top K数据。

方法三：利用堆

​	维护一个大小为K的小顶堆，依次将数据放入堆中，当堆的大小满了的时候，只需要将堆顶元素与下一个数进行比较：如果大于堆顶元素，则将当前的堆顶元素抛弃，并将该元素插入堆中。遍历完全部数据，Top K的元素就全在堆里面了。时间复杂度是O(nlogK)。